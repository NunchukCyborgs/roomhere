<div class="alert warning" *ngIf="paymentRequests?.length === 0">
  <p>No payments found</p>
</div>

<table class="stack" *ngIf="paymentRequests?.length">
  <thead>
    <tr>
      <th>Request Date</th>
      <th>Name on Check</th>
      <th>Address</th>
      <th>Unit</th>
      <th>Subtotal (rent payment)</th>
      <th [attr.colspan]="getPaidHeader() ? '2': '1'">Total (rent payment + fees)</th>
      <th>{{getPaidHeader()}}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let payment of paymentRequests">
      <td>{{payment.payment_submitted_at | date:'mediumDate'}}</td>
      <td>{{payment.name}}</td>
      <td>{{payment.property.address1}}</td>
      <td>{{payment.unit}}</td>
      <td>{{payment.subtotal}}</td>
      <td>{{payment.total}}</td>
      <td *ngIf="payment.completed_at">{{payment.completed_at | date:'mediumDate'}}</td>
      <td *ngIf="!payment.completed_at">
        <div><a (click)="toggleEditing(payment)">Edit</a></div>
        <div><a (click)="delete(payment)">Delete</a></div>
      </td>
    </tr>
  </tbody>
</table>